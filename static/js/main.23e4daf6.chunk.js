(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{168:function(e,t,a){e.exports=a(340)},340:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(165),o=a.n(l),s=a(46),i=a(15),c=a(16),u=a(72),m=u.initializeApp({apiKey:"AIzaSyCEDW8OWtQd8-yI9GsaEj7kmNDmWX9ouus",authDomain:"goal-pro-919a6.firebaseapp.com",databaseURL:"https://goal-pro-919a6.firebaseio.com",projectId:"goal-pro-919a6",storageBucket:"goal-pro-919a6.appspot.com",messagingSenderId:"871116889756"}),p=u.database().ref("goals"),h=u.database().ref("completeGoals"),g="SIGNED_IN",d="SET_GOALS",b="SET_COMPLETED";var f={email:null},v=Object(s.b)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:var a=t.email;return f={email:a};default:return e}},goals:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return t.goals;default:return e}},completeGoals:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return t.completeGoals;default:return e}}}),E=a(9),y=a(10),O=a(12),j=a(11),k=a(13),C=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(O.a)(this,Object(j.a)(t).call(this,e))).state={title:""},a}return Object(k.a)(t,e),Object(y.a)(t,[{key:"addGoal",value:function(){console.log("this",this);var e=this.state.title,t=this.props.user.email;p.push({email:t,title:e})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"form-inline"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",placeholder:"Add a goal",className:"form-control",style:{marginRight:"5px"},onChange:function(t){return e.setState({title:t.target.value})}}),r.a.createElement("button",{className:"btn btn-success",type:"button",onClick:function(){return e.addGoal()}},"Submit")))}}]),t}(n.Component);var S=Object(i.b)(function(e){return{user:e.user}},null)(C),w=function(e){function t(){return Object(E.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(y.a)(t,[{key:"completeGoal",value:function(){var e=this.props.user.email,t=this.props.goal,a=t.title,n=t.serverKey;p.child(n).remove(),h.push({email:e,title:a})}},{key:"render",value:function(){var e=this;console.log("this.props.goal",this.props.goal);var t=this.props.goal,a=t.email,n=t.title;return r.a.createElement("div",{style:{margin:"5px"}},r.a.createElement("strong",null,n),r.a.createElement("span",{style:{marginRight:"5px"}},"submitted by ",r.a.createElement("em",null,a)),r.a.createElement("button",{className:"btn btn-sm btn-primary",onClick:function(){return e.completeGoal()}},"Complete"))}}]),t}(n.Component);var G=Object(i.b)(function(e){return{user:e.user}},null)(w),N=function(e){function t(){return Object(E.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){var e=this;p.on("value",function(t){var a=[];t.forEach(function(e){var t=e.val(),n=t.email,r=t.title,l=e.key;a.push({email:n,title:r,serverKey:l})}),e.props.setGoals(a)})}},{key:"render",value:function(){return console.log("this.props.goals",this.props.goals),r.a.createElement("div",null,this.props.goals.map(function(e,t){return r.a.createElement(G,{key:t,goal:e})}))}}]),t}(n.Component);var I=Object(i.b)(function(e){return{goals:e.goals}},{setGoals:function(e){return{type:d,goals:e}}})(N),x=function(e){function t(){return Object(E.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){var e=this;h.on("value",function(t){var a=[];t.forEach(function(e){var t=e.val(),n=t.email,r=t.title;a.push({email:n,title:r})}),e.props.setCompleted(a)})}},{key:"clearCompleted",value:function(){h.set([])}},{key:"render",value:function(){var e=this;return console.log("this.props.completeGoals",this.props.completeGoals),r.a.createElement("div",null,this.props.completeGoals.map(function(e,t){var a=e.title,n=e.email;return r.a.createElement("div",{key:t},r.a.createElement("strong",null,a)," completed by ",r.a.createElement("em",null,n))}),r.a.createElement("button",{className:"btn btn-primary",onClick:function(){return e.clearCompleted()}},"Clear All"))}}]),t}(n.Component);var R=Object(i.b)(function(e){return{completeGoals:e.completeGoals}},{setCompleted:function(e){return{type:b,completeGoals:e}}})(x),A=function(e){function t(){return Object(E.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(y.a)(t,[{key:"signOut",value:function(){m.auth().signOut()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{margin:"5px"}},r.a.createElement("h3",null,"Goals Coach"),r.a.createElement(S,null),r.a.createElement("hr",null),r.a.createElement("h4",null,"Goals"),r.a.createElement(I,null),r.a.createElement("hr",null),r.a.createElement("h4",null,"Complete Goals"),r.a.createElement(R,null),r.a.createElement("button",{className:"btn btn-danger",onClick:function(){return e.signOut()}},"Sign Out"))}}]),t}(n.Component);var D=Object(i.b)(function(e){return console.log("state",e),{}},null)(A),U=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(O.a)(this,Object(j.a)(t).call(this,e))).state={email:"",password:"",error:{message:""}},a}return Object(k.a)(t,e),Object(y.a)(t,[{key:"signIn",value:function(){var e=this;console.log("this.state",this.state);var t=this.state,a=t.email,n=t.password;m.auth().signInWithEmailAndPassword(a,n).catch(function(t){e.setState({error:t})})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"form-inline"},r.a.createElement("h2",null,"Sign In"),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",type:"text",style:{marginRight:"5px"},placeholder:"email",onChange:function(t){return e.setState({email:t.target.value})}}),r.a.createElement("input",{className:"form-control",type:"password",placeholder:"password",onChange:function(t){return e.setState({password:t.target.value})}})),r.a.createElement("button",{className:"btn btn-primary",type:"button",onClick:function(){return e.signIn()}},"Sign In"),r.a.createElement("div",null,this.state.error.message),r.a.createElement("div",null,r.a.createElement(c.Link,{to:"/signup"},"Sign up instead")))}}]),t}(n.Component),L=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(O.a)(this,Object(j.a)(t).call(this,e))).state={email:"",password:"",error:{message:""}},a}return Object(k.a)(t,e),Object(y.a)(t,[{key:"signUp",value:function(){var e=this;console.log("this.state",this.state);var t=this.state,a=t.email,n=t.password;m.auth().createUserWithEmailAndPassword(a,n).catch(function(t){e.setState({error:t})})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"form-inline"},r.a.createElement("h2",null,"Sign Up"),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",type:"text",style:{marginRight:"5px"},placeholder:"email",onChange:function(t){return e.setState({email:t.target.value})}}),r.a.createElement("input",{className:"form-control",type:"text",style:{marginRight:"5px"},placeholder:"password",onChange:function(t){return e.setState({password:t.target.value})}})),r.a.createElement("button",{className:"btn btn-primary",type:"button",onClick:function(){return e.signUp()}},"Sign Up"),r.a.createElement("div",null,this.state.error.message),r.a.createElement("div",null,r.a.createElement(c.Link,{to:"/signin"},"Already has account? Sign in instead")))}}]),t}(n.Component),W=Object(s.c)(v);m.auth().onAuthStateChanged(function(e){if(e){console.log("user has signed in or up",e);var t=e.email;W.dispatch(function(e){return{type:g,email:e}}(t)),c.browserHistory.push("/app")}else console.log("user has signed out or still needs to sign in"),c.browserHistory.replace("/signin")}),o.a.render(r.a.createElement(i.a,{store:W},r.a.createElement(c.Router,{path:"/",history:c.browserHistory},r.a.createElement(c.Route,{path:"/app",component:D}),r.a.createElement(c.Route,{path:"/SignIn",component:U}),r.a.createElement(c.Route,{path:"/SignUp",component:L}))),document.getElementById("root"))}},[[168,2,1]]]);
//# sourceMappingURL=main.23e4daf6.chunk.js.map